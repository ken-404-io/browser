<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self';">
  <title>Browser</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Title bar with window controls -->
  <div id="titlebar">
    <div id="titlebar-drag"></div>
    <div id="window-controls">
      <button id="btn-minimize" class="window-btn" title="Minimize">
        <svg width="12" height="12" viewBox="0 0 12 12"><rect y="5" width="12" height="2" rx="1" fill="currentColor"/></svg>
      </button>
      <button id="btn-maximize" class="window-btn" title="Maximize">
        <svg width="12" height="12" viewBox="0 0 12 12"><rect x="1" y="1" width="10" height="10" rx="2" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
      </button>
      <button id="btn-close" class="window-btn close-btn" title="Close">
        <svg width="12" height="12" viewBox="0 0 12 12"><path d="M2 2l8 8M10 2l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>
  </div>

  <!-- Tab bar -->
  <div id="tab-bar">
    <div id="tabs-container"></div>
    <button id="btn-new-tab" title="New Tab">
      <svg width="14" height="14" viewBox="0 0 14 14"><path d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
    </button>
  </div>

  <!-- Navigation bar -->
  <div id="nav-bar">
    <div id="nav-buttons">
      <button id="btn-back" class="nav-btn" title="Back" disabled>
        <svg width="16" height="16" viewBox="0 0 16 16"><path d="M10 3L5 8l5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
      </button>
      <button id="btn-forward" class="nav-btn" title="Forward" disabled>
        <svg width="16" height="16" viewBox="0 0 16 16"><path d="M6 3l5 5-5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
      </button>
      <button id="btn-reload" class="nav-btn" title="Reload">
        <svg width="16" height="16" viewBox="0 0 16 16"><path d="M13.5 8A5.5 5.5 0 1 1 8 2.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/><path d="M13 2v4h-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
      </button>
    </div>
    <div id="url-bar-container">
      <div id="security-icon">
        <svg width="14" height="14" viewBox="0 0 14 14"><path d="M7 1L2 3.5V6.5C2 9.8 4.1 12.7 7 13.5C9.9 12.7 12 9.8 12 6.5V3.5L7 1Z" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
      </div>
      <input id="url-bar" type="text" placeholder="Search or enter URL" spellcheck="false" autocomplete="off">
      <button id="btn-bookmark" class="url-action-btn" title="Bookmark this page">
        <svg width="14" height="14" viewBox="0 0 14 14"><path d="M7 1l1.8 3.6L13 5.3l-3 2.9.7 4.1L7 10.3 3.3 12.3l.7-4.1-3-2.9 4.2-.7L7 1z" stroke="currentColor" stroke-width="1.2" fill="none" class="star-path"/></svg>
      </button>
    </div>
    <div id="nav-actions">
      <button id="btn-downloads" class="nav-btn" title="Downloads">
        <svg width="16" height="16" viewBox="0 0 16 16"><path d="M8 2v8M5 7l3 3 3-3M3 12h10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
      </button>
      <button id="btn-history" class="nav-btn" title="History">
        <svg width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/><path d="M8 4v4l3 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/></svg>
      </button>
      <button id="btn-settings" class="nav-btn" title="Settings">
        <svg width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="2" stroke="currentColor" stroke-width="1.5" fill="none"/><path d="M8 1v2M8 13v2M1 8h2M13 8h2M3.05 3.05l1.41 1.41M11.54 11.54l1.41 1.41M3.05 12.95l1.41-1.41M11.54 4.46l1.41-1.41" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
      <button id="btn-menu" class="nav-btn" title="Menu">
        <svg width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="3" r="1.5" fill="currentColor"/><circle cx="8" cy="8" r="1.5" fill="currentColor"/><circle cx="8" cy="13" r="1.5" fill="currentColor"/></svg>
      </button>
    </div>
  </div>

  <!-- Bookmarks bar -->
  <div id="bookmarks-bar"></div>

  <!-- Find bar -->
  <div id="find-bar">
    <input id="find-input" type="text" placeholder="Find in page..." spellcheck="false" autocomplete="off">
    <span id="find-matches">0/0</span>
    <button id="find-prev" class="find-btn" title="Previous">
      <svg width="12" height="12" viewBox="0 0 12 12"><path d="M9 8L6 5 3 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
    </button>
    <button id="find-next" class="find-btn" title="Next">
      <svg width="12" height="12" viewBox="0 0 12 12"><path d="M3 4l3 3 3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
    </button>
    <button id="find-close" class="find-btn" title="Close">
      <svg width="12" height="12" viewBox="0 0 12 12"><path d="M2 2l8 8M10 2l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
    </button>
  </div>

  <!-- Webview container -->
  <div id="webview-container"></div>

  <!-- New tab page -->
  <div id="new-tab-page">
    <div id="ntp-content">
      <h1 id="ntp-logo">Browser</h1>
      <p id="ntp-tagline">Fast. Lightweight. Modular.</p>
      <div id="ntp-search">
        <svg width="18" height="18" viewBox="0 0 18 18"><circle cx="7.5" cy="7.5" r="5.5" stroke="currentColor" stroke-width="2" fill="none"/><path d="M12 12l4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <input id="ntp-search-input" type="text" placeholder="Search the web..." spellcheck="false" autocomplete="off">
      </div>
      <div id="ntp-shortcuts">
        <a class="shortcut" data-url="https://github.com">
          <div class="shortcut-icon">GH</div>
          <span>GitHub</span>
        </a>
        <a class="shortcut" data-url="https://youtube.com">
          <div class="shortcut-icon">YT</div>
          <span>YouTube</span>
        </a>
        <a class="shortcut" data-url="https://reddit.com">
          <div class="shortcut-icon">RD</div>
          <span>Reddit</span>
        </a>
        <a class="shortcut" data-url="https://news.ycombinator.com">
          <div class="shortcut-icon">HN</div>
          <span>Hacker News</span>
        </a>
        <a class="shortcut" data-url="https://stackoverflow.com">
          <div class="shortcut-icon">SO</div>
          <span>Stack Overflow</span>
        </a>
        <a class="shortcut" data-url="https://wikipedia.org">
          <div class="shortcut-icon">WK</div>
          <span>Wikipedia</span>
        </a>
      </div>
    </div>
  </div>

  <!-- Downloads panel (slide-out) -->
  <div id="downloads-panel" class="side-panel">
    <div class="panel-header">
      <h3>Downloads</h3>
      <div class="panel-header-actions">
        <button id="downloads-clear" class="panel-action-btn">Clear all</button>
        <button id="downloads-panel-close" class="panel-close-btn">
          <svg width="12" height="12" viewBox="0 0 12 12"><path d="M2 2l8 8M10 2l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>
    <div id="downloads-list" class="panel-list"></div>
  </div>

  <!-- History panel (slide-out) -->
  <div id="history-panel" class="side-panel">
    <div class="panel-header">
      <h3>History</h3>
      <div class="panel-header-actions">
        <button id="history-clear" class="panel-action-btn">Clear all</button>
        <button id="history-panel-close" class="panel-close-btn">
          <svg width="12" height="12" viewBox="0 0 12 12"><path d="M2 2l8 8M10 2l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>
    <input id="history-search" type="text" placeholder="Search history..." class="panel-search" spellcheck="false">
    <div id="history-list" class="panel-list"></div>
  </div>

  <!-- Settings panel (slide-out) -->
  <div id="settings-panel" class="side-panel">
    <div class="panel-header">
      <h3>Settings</h3>
      <button id="settings-panel-close" class="panel-close-btn">
        <svg width="12" height="12" viewBox="0 0 12 12"><path d="M2 2l8 8M10 2l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div class="settings-content">
      <div class="settings-group">
        <label class="settings-label">Search Engine</label>
        <select id="setting-search-engine" class="settings-select">
          <option value="google">Google</option>
          <option value="duckduckgo">DuckDuckGo</option>
          <option value="bing">Bing</option>
        </select>
      </div>
      <div class="settings-group">
        <label class="settings-label">
          <input type="checkbox" id="setting-adblock" class="settings-checkbox">
          Ad Blocker
        </label>
      </div>
      <div class="settings-group">
        <label class="settings-label">
          <input type="checkbox" id="setting-restore-session" class="settings-checkbox">
          Restore previous session on startup
        </label>
      </div>
    </div>
  </div>

  <!-- Context menu -->
  <div id="context-menu">
    <button class="menu-item" data-action="back">
      <span>Back</span><span class="menu-shortcut">Alt+Left</span>
    </button>
    <button class="menu-item" data-action="forward">
      <span>Forward</span><span class="menu-shortcut">Alt+Right</span>
    </button>
    <button class="menu-item" data-action="reload">
      <span>Reload</span><span class="menu-shortcut">Ctrl+R</span>
    </button>
    <div class="menu-separator"></div>
    <button class="menu-item" data-action="bookmark">
      <span>Bookmark this page</span><span class="menu-shortcut">Ctrl+D</span>
    </button>
    <div class="menu-separator"></div>
    <button class="menu-item" data-action="find">
      <span>Find in page</span><span class="menu-shortcut">Ctrl+F</span>
    </button>
    <button class="menu-item" data-action="devtools">
      <span>Developer Tools</span><span class="menu-shortcut">F12</span>
    </button>
  </div>

  <!-- Panel overlay for click-away close -->
  <div id="panel-overlay"></div>

  <script type="module" src="renderer.js"></script>
</body>
</html>
